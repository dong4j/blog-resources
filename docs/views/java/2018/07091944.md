---
title: é”™è¯¯çš„ä»£ç å†™æ³•
date: 2018-07-09
categories:
  - Java
tags: 
  - Other
---

::: tip
æ•´ç†ä¸€ä¸‹é¡¹ç›®ä¸­ä¸å¥½çš„ä»£ç å†™æ³•
:::

<!-- more-->

![12530ç³»ç»Ÿæ¶æ„ä¼˜åŒ–](http://qiniu.dong4j.info/2019-07-03-12530%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E4%BC%98%E5%8C%96.png)

ä»¥ä¸‹æ˜¯ä¸€äº›å…·æœ‰ä»£è¡¨æ€§çš„é—®é¢˜, éƒ½æ˜¯ä¸€äº›ä¸€çœ‹å°±æ˜ç™½çš„é—®é¢˜, è¿˜æœ‰ä¸€äº›ä»£ç çš„å‘, æ…¢æ…¢å¡«å§.

åªé’ˆå¯¹ä»£ç , ä¸é’ˆå¯¹è°, å¦‚æœå†™çš„ä¸å¯¹çš„å¯¹æ–¹, ä½ å’¬æˆ‘å•Š

## ä»£ç é—®é¢˜

### è¿˜å¤±è´¥é‡è¯•? å¤±è´¥é‡è¯•ä¸ªå•¥? ç›´æ¥è¿”å›äº† è€é“!!

ä»£ç 1åé¢, è·å–äº† batchResult, ä¸åº”è¯¥é‡æ–°èµ‹å€¼ code å˜›?

ä»£ç 2ä¸ºä¿®æ”¹å

![-w797](http://qiniu.dong4j.info/2019-07-03-15325189812902.jpg)

### Intellij idea æ˜¯ä¸ªå¥½ä¸œè¥¿

![-w857](http://qiniu.dong4j.info/2019-07-03-15325191868917.jpg)

![-w730](http://qiniu.dong4j.info/2019-07-03-15325192695231.jpg)

ä¿®æ”¹ä¸º:

![-w846](http://qiniu.dong4j.info/2019-07-03-15325193077721.jpg)

catch é‡Œé¢ä½¿ç”¨ printStackTrace(), é”™è¯¯æ—¥å¿—å…¨éƒ¨è¾“å‡ºåˆ° `catalina.out`, ä½ è€ƒè™‘è¿‡ catalina çš„æ„Ÿå—å—? 

**æ—¥å¿—é—®é¢˜åé¢è¯´**


### è¿™æ˜¯å…ˆæ–©åå¥å—?

å‰é¢éƒ½è°ƒç”¨äº† list çš„ size æ–¹æ³•, åé¢å†æ¥åˆ¤æ–­ list æ˜¯å¦ä¸º null?

è¿™ç§ä»£ç æˆ‘çœ‹è§èµ·ç ä¸ä¸‹ 10 å¤„, ç³»ç»Ÿèƒ½ç¨³å®šå—è€é“?

![-w980](http://qiniu.dong4j.info/2019-07-03-15325195481267.jpg)

idea éƒ½çŸ¥é“çš„é—®é¢˜, ä½ ä¸åº”è¯¥ä¸çŸ¥é“

![-w318](http://qiniu.dong4j.info/2019-07-03-15325198758977.jpg)

logger.info è¾“å‡ºé—®é¢˜:

ç”¨ `log.info("{}", xxxx)`, ä¸è¦è‡ªå·±æ‹¼æ¥å­—ç¬¦ä¸²

### è€é“, ä½ å¯é•¿ç‚¹å¿ƒå§ 

![-w446](http://qiniu.dong4j.info/2019-07-03-15325240857455.jpg)


### è€é“, æˆ‘å°±æœä½ 

![-w832](http://qiniu.dong4j.info/2019-07-03-15325200536825.jpg)

google : logger.error() æ­£ç¡®ä½¿ç”¨å§¿åŠ¿

![-w832](http://qiniu.dong4j.info/2019-07-03-15325201553323.jpg)

### JDK7 ä¹‹åçš„å˜åŒ–

JDK7 ä¹‹ é’»çŸ³è¯­æ³•

![-w493](http://qiniu.dong4j.info/2019-07-03-15325202427415.jpg)

![-w381](http://qiniu.dong4j.info/2019-07-03-15325202977026.jpg)


### ç”»è›‡æ·»è¶³ 

value å°±æ˜¯ String ç±»å‹äº†, å†™ toString() æ˜¯ä¸ºäº†ç»ƒæ‰“å­—å—?

![-w990](http://qiniu.dong4j.info/2019-07-03-15311368667283.jpg)

### å¼ºè¿«ç—‡å¯èƒ½è¦æ€¥æ­»

çœ‹è§é»„è‰²è­¦å‘Šäº†å—? çŸ¥é“æ€ä¹ˆæ”¹å—?

![-w617](http://qiniu.dong4j.info/2019-07-03-15325212228871.jpg)

![-w619](http://qiniu.dong4j.info/2019-07-03-15325212784156.jpg)


### ä½ å°±å‘Šè¯‰æˆ‘éœ€è¦å¤šå®½çš„æ˜¾ç¤ºå™¨?

è€é“, å…¬å¸æ²¡ç»™é…è¿™ä¹ˆå®½çš„æ˜¾ç¤ºå™¨å•Š...å•Š, 27å¯¸çš„ä¹Ÿçœ‹ä¸è¿‡æ¥å•Š

**è¶…è¿‡120åˆ—å®½å¿…é¡»éœ€è¦æ¢è¡Œ**

![-w1810](http://qiniu.dong4j.info/2019-07-03-15325214131546.jpg)

![-w657](http://qiniu.dong4j.info/2019-07-03-15325214458089.jpg)

**è¶…è¿‡5ä¸ªå‚æ•°, æ¨èä½¿ç”¨å®ä½“ç±»**

### ä½ è¿˜æ˜¯å»å†™ python å§

![-w498](http://qiniu.dong4j.info/2019-07-03-15311374744373.jpg)

### çŸ¥é“ä»€ä¹ˆå« util å—?

![-w626](http://qiniu.dong4j.info/2019-07-03-15311378124879.jpg)

### Intellij IDEA éƒ½çŸ¥é“ä¼šæœ‰ç©ºæŒ‡é’ˆ, ä½ è¿˜è¿™ä¹ˆå†™?

![-w707](http://qiniu.dong4j.info/2019-07-03-15311379696500.jpg)

### ä¸èƒ½ç›´æ¥ return å—? ç»ƒæ‰“å­—å—?

![-w480](http://qiniu.dong4j.info/2019-07-03-15311380540319.jpg)

### é¢è¯•é¢˜ä¹‹ String, StringBuilder, StringBuffer

> JDK 5 ä»¥å JVM å¯¹å­—ç¬¦ä¸²å¾ªç¯æ‹¼æ¥çš„å¤„ç†æ–¹å¼

![-w498](http://qiniu.dong4j.info/2019-07-03-15311381199583.jpg)

### è€é“, ç±»æ³¨é‡Š, æ–¹æ³•æ³¨é‡Šå‘¢

**ç±»æ³¨é‡Šå‘¢?**

**æ–¹æ³•æ³¨é‡Šè™½ç„¶æœ‰, ä½†æ˜¯ä¸æ ‡å‡†å•Š, è€é“**

æ²¡çœ‹è§é‚£ä¹ˆå¤šé»„è‰²è­¦å‘Šå—?

![-w514](http://qiniu.dong4j.info/2019-07-03-15325219772861.jpg)

**ä»£ç è§„èŒƒæˆ‘ä»¬åé¢è¯´**

![-w619](http://qiniu.dong4j.info/2019-07-03-15325221233995.jpg)

æ¯ä¸ªæ¨¡å—éƒ½æœ‰ä¸€ä¸ª StringUtil, è¿˜æœ‰å« StringUtils çš„

è€é“, å†™ä¹‹å‰å…ˆçœ‹çœ‹èƒ½ä¸èƒ½å¤ç”¨å•Š, æˆ–è€…å¤åˆ¶ä¹‹å‰, çœ‹æ˜¯ä¸æ˜¯å·²ç»æœ‰äº†å•Š.

### ä½ ä»¥ä¸ºæŠŠ DDL è¯­å¥æ‹·è´è¿‡æ¥å°±ä¸ç”¨å†™å­—æ®µæ³¨é‡Šäº†å—?

è€é“, ä½ è¿™æ ·éªšæ“ä½œæˆ‘å¾ˆä¸ºéš¾å•Š

![-w554](http://qiniu.dong4j.info/2019-07-03-15325226017793.jpg)

åœ¨ç±»ä¸ŠæŒ‰ F1 çœ‹ä¸åˆ°ç±»æ³¨é‡Šå•Š

![-w762](http://qiniu.dong4j.info/2019-07-03-15325227597361.jpg)

è¿™æ ·æ”¹å•Š

![-w459](http://qiniu.dong4j.info/2019-07-03-15325228899844.jpg)

F1 ç›´æ¥çœ‹ç±»æ³¨é‡Šå•Š, ä¸ç”¨è·³è½¬äº†å•Š

![-w769](http://qiniu.dong4j.info/2019-07-03-15325228697589.jpg)

F1 ç›´æ¥çœ‹å­—æ®µæ³¨é‡Šå•Š, ä¸ç”¨å†å»æŸ¥ DDL äº†å•Š, ä¸ä¼šåœ¨è’™åœˆäº†å•Š

![-w554](http://qiniu.dong4j.info/2019-07-03-15325228196153.jpg)

### è€é“, ä¸æ˜¯ä¸­æ–‡çœ‹ä¸æ‡‚å•Š

é¢, è¿™ä¸ªè¦æ€ª idea äº†, å±…ç„¶æ²¡æœ‰é»˜è®¤è½¬æ¢

![-w568](http://qiniu.dong4j.info/2019-07-03-15325232263464.jpg)

![-w851](http://qiniu.dong4j.info/2019-07-03-15325233014643.jpg)

è€é“, æŠŠ transpartent æ‰“å¼€, ä½ å°±è®¤è¯†ä¸­æ–‡äº†

![-w570](http://qiniu.dong4j.info/2019-07-03-15325233990286.jpg)

è€é“, çœ‹è§é»„è‰²è­¦å‘Šäº†? å¦‚æœæ˜¯è‡ªå·±è§£æé…ç½®, æ²¡æœ‰å¤„ç†ç©ºç™½ç¬¦çš„è¯, åˆå‡º bug äº†å•Š..å•Š.


### è€é“, ä»£ç ç”¨ UTF-8 å•Š, ä¸ç„¶è¦ä¹±ç å•Š
![-w488](http://qiniu.dong4j.info/2019-07-03-15325253775665.jpg)

å…¨éƒ½è¦ UTF-8 å•Š, è¦è·Ÿå›½é™…æ¥è½¨å•Š

![-w1109](http://qiniu.dong4j.info/2019-07-03-15325254466365.jpg)

### è€é“, 0æ˜¯å•¥, 1æ˜¯å•¥, 2åˆæ˜¯å•¥å•Š? è„‘å£³éƒ½å¤§äº†å•Š...

å®šä¹‰ä¸ªå¸¸é‡å•Š, å¸¸é‡åç”¨æ‹¼éŸ³ä¹Ÿæ¯”æ²¡æœ‰å¥½å•Š, è€é“

![-w943](http://qiniu.dong4j.info/2019-07-03-15325236499284.jpg)


![-w405](http://qiniu.dong4j.info/2019-07-03-15325235962477.jpg)

### è®º MVC æ¶æ„çš„èŒè´£

dao å°±æ˜¯å¯¹è¡¨çš„æ“ä½œ, ä¸€ä¸ª dao å¯¹åº”ä¸€å¼ è¡¨;
service ç»„åˆå¤šä¸ª daoè¿›è¡Œä¸šåŠ¡å¤„ç†;
controller åšå‚æ•°æ£€æŸ¥, ç»“æœå°è£…, è·³è½¬é¡µé¢;

![-w819](http://qiniu.dong4j.info/2019-07-03-15311384292902.jpg)


### ä½ å’‹ä¸æŠŠæ‰€æœ‰çš„ sql éƒ½å†™åœ¨ä¸€ä¸ª xml é‡Œé¢å‘¢?

![-w632](http://qiniu.dong4j.info/2019-07-03-15311385097765.jpg)

### è¿™ä¸ªä¹Ÿè¦æ³¨å…¥? ä¹Ÿèƒ½æ³¨å…¥?

ğŸ˜…ğŸ˜‚ğŸ¤£

![-w616](http://qiniu.dong4j.info/2019-07-03-15311421939156.jpg)

### å¤šä½™çš„ finally

> redis-proxy å·²ç»å¯¹ jedis èµ„æºçš„å®‰å…¨é‡Šæ”¾åšäº†å¤„ç†, ä¸ç”¨è‡ªå·±åœ¨å†™è¿™äº›å†—ä½™çš„ä»£ç 

![-w1274](http://qiniu.dong4j.info/2019-07-03-15311434304599.jpg)

### catch é‡Œé¢ä¸è¦åšæµç¨‹æ§åˆ¶, OK?

![-w973](http://qiniu.dong4j.info/2019-07-03-15311475450147.jpg)

æ”¹ä¸º 

![-w943](http://qiniu.dong4j.info/2019-07-03-15311950867272.jpg)


### log è¾“å‡ºé”™è¯¯

> æ—¥å¿—çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿, ä½ å€¼å¾—äº†è§£ä¸€ä¸‹

æ¨èå»æœä¸€ä¸‹ log çš„æ­£ç¡®è¾“å‡ºæ–¹å¼.

![-w434](http://qiniu.dong4j.info/2019-07-03-15311496127819.jpg)

```java
log.error("è®¿é—® redis å¼‚å¸¸", e);
```

### åšäººèƒ½ä¸èƒ½çœŸè¯šä¸€ç‚¹, å†™ä»£ç èƒ½ä¸èƒ½ç®€å•ä¸€ç‚¹

![-w806](http://qiniu.dong4j.info/2019-07-03-15311935198608.jpg)

æ”¹ä¸º:

```java
IavpResponse iavpResponse = HttpUtil.sendPost(inputParams, "gatherkey", Integer.parseInt(timeOut));
if(iavpResponse.getStatusCode() == HttpStatus.SC_OK){
    return XmlConverUtil.readGatherKeyXmlOut(iavpResponse.getContent());
}
```

XmlConverUtil.java

```java
public static List<GatherKeyInfo> readGatherKeyXmlOut(String xml) {
        if(StringUtils.isBlank(xml)){
            return null;
        }
        ...
}
```

### isNotEmpty å’Œ isNotBlank çš„åŒºåˆ«çŸ¥é“å—?

![-w915](http://qiniu.dong4j.info/2019-07-03-15311943295264.jpg)

æ”¹ä¸º:

![-w891](http://qiniu.dong4j.info/2019-07-03-15311947889326.jpg)


### 3è¡Œä»£ç æå®šçš„äº‹, éè¦å†™å‡ åè¡Œ, ç»ƒæ‰“å­—å—?


**åŸå§‹ä»£ç **

ç”¨äºæ£€æŸ¥æ˜¯å¦æ˜¯ä¼šå‘˜

```java
public boolean judgeMiguSuperVIP(String caller) {
        boolean VIPReturn = false;
        //isMiguGameMothMemberè¡¨ç¤ºæ¸¸æˆä¼šå‘˜çŠ¶æ€, 1è¡¨ç¤ºæ˜¯åŒ…æœˆä¼šå‘˜, 0è¡¨ç¤ºä¸æ˜¯åŒ…æœˆä¼šå‘˜
        String isMiguGameMothMember = "0";
        try {
            GameAccount gameAccount = miguGameProvider.queryUserInfo(caller);
            if (gameAccount != null) {
                isMiguGameMothMember = gameAccount.getMiguSupperMember();
            } else {
                isMiguGameMothMember = "0";
            }
            if ("1".equals(isMiguGameMothMember)) {
                //æ˜¯å’ªå’•è¶…çº§ä¼šå‘˜
                VIPReturn = true;
                return VIPReturn;
            } else {
                //ä¸æ˜¯å’ªå’•è¶…çº§ä¼šå‘˜
                VIPReturn = false;
                return VIPReturn;
            }
        } catch (Exception e) {
            //æŸ¥è¯¢æ¸¸æˆè´¦å·çŠ¶æ€å¼‚å¸¸
            VIPReturn = false;
            return VIPReturn;
        }
    }
```
    
    
**é‡æ„1**
    
åˆ é™¤ boolean VIPReturn
    
```java
    public boolean judgeMiguSuperVIP(String caller, String type) {
        // isMiguGameMothMemberè¡¨ç¤ºæ¸¸æˆä¼šå‘˜çŠ¶æ€, 1è¡¨ç¤ºæ˜¯åŒ…æœˆä¼šå‘˜, 0è¡¨ç¤ºä¸æ˜¯åŒ…æœˆä¼šå‘˜
        String isMiguGameMothMember = "0";
        try {
            GameAccount gameAccount = miguGameProvider.queryUserInfo(caller, type);
            if (gameAccount != null) {
                isMiguGameMothMember = gameAccount.getMiguSupperMember();
            } else {
                isMiguGameMothMember = "0";
            }
            return "1".equals(isMiguGameMothMember);
        } catch (Exception e) {
            return false;
        }
    }
```

**é‡æ„2**

åˆ é™¤ isMiguGameMothMember

```java
public boolean judgeMiguSuperVIP(String caller, String type) {
        // isMiguGameMothMemberè¡¨ç¤ºæ¸¸æˆä¼šå‘˜çŠ¶æ€, 1è¡¨ç¤ºæ˜¯åŒ…æœˆä¼šå‘˜, 0è¡¨ç¤ºä¸æ˜¯åŒ…æœˆä¼šå‘˜
        try {
            GameAccount gameAccount = miguGameProvider.queryUserInfo(caller, type);
            return gameAccount != null && "1".equals(gameAccount.getMiguSupperMember());
        } catch (Exception e) {
            return false;
        }
    }
```

**é‡æ„3**

queryUserInfo å·²ç»å¤„ç†çš„ä¸‹å±‚æŠ›å‡ºçš„å¼‚å¸¸, è¿™é‡Œä¸éœ€è¦å†å¤„ç†

```java
public boolean judgeMiguSuperVIP(String caller, String type) {
        // isMiguGameMothMemberè¡¨ç¤ºæ¸¸æˆä¼šå‘˜çŠ¶æ€, 1è¡¨ç¤ºæ˜¯åŒ…æœˆä¼šå‘˜, 0è¡¨ç¤ºä¸æ˜¯åŒ…æœˆä¼šå‘˜
        GameAccount gameAccount = miguGameProvider.queryUserInfo(caller, type);
        return gameAccount != null && "1".equals(gameAccount.getMiguSupperMember());
    }
```


## æ—¥å¿—é—®é¢˜

![-w818](http://qiniu.dong4j.info/2019-07-03-15325258386238.jpg)


### è€é“, æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶è¦ç”¨ UTF-8 å•Š

ä¸ç„¶ä¹±ç çœ‹ä¸æ‡‚å•Š

![-w846](http://qiniu.dong4j.info/2019-07-03-15325238883862.jpg)

### è€é“, æ—¥å¿—è¾“å‡ºèƒ½ä¸èƒ½ç»Ÿä¸€æ ¼å¼å•Š?

### è€é“, æ—¥å¿—è¾“å‡ºèƒ½ä¸èƒ½åˆ†çº§åˆ«å•Š?

### è€é“, æ—¥å¿—æ¡†æ¶èƒ½ä¸èƒ½ç»Ÿä¸€ä½¿ç”¨ä¸€ä¸ªå•Š?

 ä¸€ä¼š log4j, ä¸€ä¼š log4j2çš„
 åšäººå–œæ–°åŒæ—§å¯ä»¥(log4j2æ›´æ–°, æ•ˆç‡æ›´å¥½)
 ä½†ä¹Ÿè¦ä¸“ä¸€, è¯´å¥½æ”¾å­¦åˆ«èµ°å°±ä¸èƒ½èµ°, è¦è·‘...
 è¯´å¥½ç”¨ log4j2 + slf4j, å°±ä¸è¦ç”¨ System.out.println() OK?
 
## Maven é—®é¢˜

### è€é“, ä¸€ä¸ªæ¨¡å—è¿™ä¹ˆå¤šç‰ˆæœ¬å•Š, æ€ä¹ˆç®¡ç†å•Š

maven ç”¨æ¥ç®¡ç†é¡¹ç›®ä¸­çš„ä¾èµ–å…³ç³»çš„, è¿™ä¸ªæ²¡ä½¿ç”¨ maven æœ‰ä»€ä¹ˆåŒºåˆ«?

![](http://qiniu.dong4j.info/2019-07-03-15311370387038.jpg)

### æ‹·è´ä¾èµ–çš„æ—¶å€™çœ‹æ²¡çœ‹æ˜¯ä¸æ˜¯å­˜åœ¨äº†?

![-w580](http://qiniu.dong4j.info/2019-07-03-15311371885577.jpg)

### è€é“, ä¸è¦åªæ™“å¾—æ‹·è´ä¾èµ–, ä¸çœ‹çœ‹ä¾èµ–å†²çªå•Š

![-w936](http://qiniu.dong4j.info/2019-07-03-15311372443892.jpg)
 

